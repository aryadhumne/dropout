{% extends "teacher/base.html" %}
{% block title %}Edit Student - EduDrop{% endblock %}
{% block content %}

<div class="card">
  <h5 style="font-weight:600;margin-bottom:20px;">Edit Student</h5>

  <form method="POST">
    <!-- Student Information -->
    <h6 style="font-weight:600;margin-bottom:12px;color:var(--primary);">Student Information</h6>
    <div class="row mb-3">
      <div class="col-md-6 mb-3">
        <label class="form-label">Name</label>
        <input type="text" name="name" class="form-control" value="{{ student.name }}" required>
      </div>
      <div class="col-md-6 mb-3">
        <label class="form-label">Roll Number</label>
        <input type="number" name="roll" class="form-control" value="{{ student.roll }}" required>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-md-6 mb-3">
        <label class="form-label">Standard</label>
        <input type="text" name="standard" class="form-control" value="{{ student.standard }}" required>
      </div>
      <div class="col-md-6 mb-3">
        <label class="form-label">Division</label>
        <input type="text" name="division" class="form-control" value="{{ student.division }}" required>
      </div>
    </div>

    <!-- Subjects & Attendance -->
    <h6 style="font-weight:600;margin:20px 0 12px;color:var(--primary);">Subjects & Attendance</h6>
    {% for sub in student.subjects %}
    <div class="row mb-2">
      <div class="col-md-6">
        <input type="text" name="subjects[]" class="form-control" value="{{ sub.subject }}" required>
      </div>
      <div class="col-md-6">
        <input type="number" name="attendance[]" class="form-control" value="{{ sub.attendance }}" min="0" max="100" required>
      </div>
    </div>
    {% endfor %}

    <!-- Performance Details -->
    <h6 style="font-weight:600;margin:20px 0 12px;color:var(--primary);">Performance Details</h6>
    <div class="row mb-3">
      <div class="col-md-6 mb-3">
        <label class="form-label">Assignment Status</label>
        <select name="assignment_status" class="form-control" required>
          <option value="Completed" {% if student.assignment_status == "Completed" %}selected{% endif %}>Completed</option>
          <option value="Not Completed" {% if student.assignment_status == "Not Completed" %}selected{% endif %}>Not Completed</option>
        </select>
      </div>
      <div class="col-md-6 mb-3">
        <label class="form-label">Behaviour</label>
        <select name="behaviour" class="form-control" required>
          <option value="Good" {% if student.behaviour == "Good" %}selected{% endif %}>Good</option>
          <option value="Average" {% if student.behaviour == "Average" %}selected{% endif %}>Average</option>
          <option value="Poor" {% if student.behaviour == "Poor" %}selected{% endif %}>Poor</option>
        </select>
      </div>
    </div>

    <!-- Parent Information -->
    <h6 style="font-weight:600;margin:20px 0 12px;color:var(--primary);">Parent Information</h6>
    <div class="row mb-3">
      <div class="col-md-6 mb-3">
        <label class="form-label">Parent Name</label>
        <input type="text" name="parent_name" class="form-control" value="{{ student.parent_name }}" required>
      </div>
      <div class="col-md-6 mb-3">
        <label class="form-label">Parent Phone</label>
        <input type="text" name="parent_phone" class="form-control" value="{{ student.parent_phone }}" required>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-md-6 mb-3">
        <label class="form-label">Alternate Phone</label>
        <input type="text" name="parent_alt_phone" class="form-control" value="{{ student.parent_alt_phone }}">
      </div>
      <div class="col-md-6 mb-3">
        <label class="form-label">Address</label>
        <input type="text" name="parent_address" class="form-control" value="{{ student.parent_address }}">
      </div>
    </div>

    <div class="d-flex gap-2">
      <button type="submit" class="btn btn-primary"><i class="bi bi-check-circle"></i> Update Student</button>
      <a href="{{ url_for('student_records') }}" class="btn btn-outline">Cancel</a>
    </div>
  </form>
</div>

{% endblock %}
